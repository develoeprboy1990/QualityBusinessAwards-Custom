RewriteEngine On
RewriteBase /

# Allow access to autocomplete.php
RewriteCond %{REQUEST_URI} ^/autocomplete\.php$ [NC]
RewriteRule ^ - [L]

# Handle the search page
RewriteRule ^search/?$ search.php [L,QSA]

# Handle the main search page
RewriteRule ^canada/?$ canada.php [L,QSA]

# Handle award pages with year format
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(\d{4})/(.*)$ award.php?year=$1&slug=$2 [L,QSA]

# Handle other PHP files (optional) except autocomplete.php
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php [NC]
RewriteCond %{REQUEST_URI} !^/autocomplete\.php$ [NC]
RewriteRule ^ %1 [R,L]

<IfModule mod_headers.c>
Header set Cache-Control "private"
</IfModule>
